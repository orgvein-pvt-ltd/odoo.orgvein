<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="hr_applicant_view_form_custom" model="ir.ui.view">
        <field name="name">hr.applicant.form.custom</field>
        <field name="model">hr.applicant</field>
        <field name="inherit_id" ref="hr_recruitment.hr_applicant_view_form"/>
        <field name="arch" type="xml">

            <!-- JOB SECTION: insert after Applied Job -->
            <xpath expr="//field[@name='job_id']" position="after">
                <field name="expected_joining_date"/>
                <field name="total_experience"/>
            </xpath>

            <!-- CONTRACT SECTION: replace existing group safely -->
            <xpath expr="//group[@name='recruitment_contract']" position="replace">
                <group string="Contract" name="recruitment_contract">

                    <label for="current_salary"/>
                    <div class="o_row">
                        <field name="current_salary"/>
                    </div>

                    <label for="salary_expected"/>
                    <div class="o_row">
                        <field name="salary_expected"/>
                        <span invisible="not salary_expected_extra"> + </span>
                        <field name="salary_expected_extra" placeholder="Extra advantages..."/>
                    </div>

                    <label for="salary_proposed"/>
                    <div class="o_row">
                        <field name="salary_proposed"/>
                        <span invisible="not salary_proposed_extra"> + </span>
                        <field name="salary_proposed_extra" placeholder="Extra advantages..."/>
                    </div>

                </group>
            </xpath>

        </field>
    </record>
</odoo>
